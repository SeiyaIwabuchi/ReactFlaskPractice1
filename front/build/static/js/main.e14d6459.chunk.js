(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var i=a(3),n=a(0),c=a.n(n),o=a(9),s=a.n(o),r=(a(88),a(54)),l=a.n(r),d=a(63),u=a(18),h=a(132),j=a(134),m=a(135),b=a(136),p=a(102),O=a(101),f=a(137),x=a(144),g=a(138),y=a(139),S=a(146),v=a(141),k=a(129),T=a(72),C=a(140),w=a(38),D=a.n(w),N=a(49),z=a(67),B=a.n(z),M=a(69),P=a.n(M),G=a(40),H=a(41),E=function(){function e(){Object(G.a)(this,e),this.user=void 0,this.id=void 0,this._title=void 0,this._body=void 0,this.datetime=void 0,this.user="",this.id=0,this._title="",this._body="",this.datetime=""}return Object(H.a)(e,[{key:"title",get:function(){return this._title},set:function(e){this._title=e}},{key:"body",get:function(){return this._body},set:function(e){this._body=e}}]),e}(),F=function(){function e(t){Object(G.a)(this,e),this.uid=void 0,this.uid=t}return Object(H.a)(e,[{key:"setUid",value:function(e){this.uid=e}},{key:"getUid",value:function(){return this.uid}}]),e}(),U=a(68),_=a.n(U),I=["Noto Sans JP","Lato","\u6e38\u30b4\u30b7\u30c3\u30af Medium","\u6e38\u30b4\u30b7\u30c3\u30af\u4f53","Yu Gothic Medium","YuGothic","\u30d2\u30e9\u30ae\u30ce\u89d2\u30b4 ProN","Hiragino Kaku Gothic ProN","\u30e1\u30a4\u30ea\u30aa","Meiryo","\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af","MS PGothic","sans-serif"].join(","),J=Object(k.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},appBar:{},appBarSpacer:e.mixins.toolbar,SearchfieldSize:{width:"100%",marginTop:"2%"},listItemSize:{padding:0,paddingTop:5},paperSize:{width:"100%"},paperTypoTitleSize:{padding:"1%"},paperTypoBodySize:{margin:"1%",marginTop:"1%",paddingBottom:"1%"},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},LinkSize:{width:"100%",textDecoration:"none"}}}));function L(e){var t=J();return Object(i.jsx)("header",{children:Object(i.jsx)(h.a,{className:t.appBar,position:"fixed",children:Object(i.jsxs)(j.a,{children:[Object(i.jsx)(m.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(){e.handleClick(),e.snackbarTextHandle("\u30e1\u30cb\u30e5\u30fc\u8868\u793a")},children:Object(i.jsx)(B.a,{})}),Object(i.jsx)(b.a,{variant:"h6",className:t.title,children:"\u30e1\u30e2\u30e1\u30e2\u30e1"}),Object(i.jsx)(m.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){"dark"===e.themeSwitch?e.setThemeSwitch("light"):e.setThemeSwitch("dark")},children:Object(i.jsx)(_.a,{})})]})})})}function Y(e){var t=[];return e.memoData.forEach((function(a){t.push(function(e){return Object(i.jsx)(p.a,{className:e.classes.listItemSize,children:Object(i.jsxs)(O.a,{className:e.classes.paperSize,onClick:function(){e.handleClick(e.memo)},children:[Object(i.jsx)(b.a,{className:e.classes.paperTypoTitleSize,variant:"h5",noWrap:!0,children:e.memo.title}),Object(i.jsx)(b.a,{className:e.classes.paperTypoBodySize,variant:"body1",noWrap:!0,children:e.memo.body})]})})}({classes:e.classes,handleClick:function(t){e.handleClick(t)},memo:a}))})),Object(i.jsx)(i.Fragment,{children:t})}function K(e){var t=J(),a=Object(n.useState)(""),c=Object(u.a)(a,2),o=c[0],s=c[1],r=Object(n.useState)(e.memoData),l=Object(u.a)(r,2),d=l[0],h=l[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:t.appBarSpacer}),Object(i.jsxs)(f.a,{children:[Object(i.jsx)(x.a,{label:"\u691c\u7d22",value:o,className:t.SearchfieldSize,onChange:function(t){s(t.target.value),h(function(e,t){var a=[];return e.forEach((function(e){-1===e.title.indexOf(t)&&-1===e.body.indexOf(t)||a.push(e)})),a}(e.memoData,t.target.value))}}),Object(i.jsx)(g.a,{style:{maxHeight:"100%",overflow:"auto"},children:Object(i.jsx)(Y,{classes:t,memoData:""!==o?d:e.memoData,handleClick:function(t){e.handleClick(t,"update")}})}),Object(i.jsx)(y.a,{color:"primary","aria-label":"add",className:t.fab,onClick:function(){e.handleClick(new E,"insert")},children:Object(i.jsx)(P.a,{})})]})]})}function R(e,t){"clickaway"!==t&&e(!1)}var W=function(e){console.log("\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u304c\u547c\u3070\u308c\u305f\uff01");var t=Object(n.useState)(!1),a=Object(u.a)(t,2),o=a[0],s=a[1],r=Object(n.useState)(""),h=Object(u.a)(r,2),j=h[0],b=h[1],p=Object(n.useState)([]),O=Object(u.a)(p,2),f=O[0],x=O[1],g=Object(n.useState)(new F("")),y=Object(u.a)(g,2),k=y[0],w=y[1],z=Object(n.useState)("dark"),B=Object(u.a)(z,2),M=B[0],P=B[1],G=localStorage.getItem("uid"),H=Object(T.a)({typography:{fontFamily:I},palette:{primary:N.a,type:M}});return null!=G&&k.setUid(G),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://iwabuchi.ddns.net:8080/?uid="+k.getUid(),{method:"get"}).then((function(e){return e.json()})).then((function(e){x(e.memos),w(new F(e.uid)),localStorage.setItem("uid",k.getUid())})).catch((function(e){console.error("Error: ",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(i.jsx)(C.a,{theme:H,children:Object(i.jsxs)("div",{children:[Object(i.jsx)(S.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:o,autoHideDuration:6e3,onClose:function(e,t){R(s,t)},message:j,action:Object(i.jsx)(c.a.Fragment,{children:Object(i.jsx)(m.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){R(s)},children:Object(i.jsx)(D.a,{fontSize:"small"})})})}),Object(i.jsx)(v.a,{}),Object(i.jsx)(L,{snackbarTextHandle:b,handleClick:function(){s(!0)},themeSwitch:M,setThemeSwitch:P}),Object(i.jsx)(K,{memoData:f,handleClick:function(t,a){console.log(t),e.history.push({pathname:"/editor",state:{memoData:t,editMode:a,session:k}})},setMemoData:function(e){x(e.concat())}})]})})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,147)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),i(e),n(e),c(e),o(e)}))},q=(a(142),a(73)),Q=a(143),V=a(70),X=a.n(V),Z=a(71),$=a.n(Z),ee=a(48),te=["Noto Sans JP","Lato","\u6e38\u30b4\u30b7\u30c3\u30af Medium","\u6e38\u30b4\u30b7\u30c3\u30af\u4f53","Yu Gothic Medium","YuGothic","\u30d2\u30e9\u30ae\u30ce\u89d2\u30b4 ProN","Hiragino Kaku Gothic ProN","\u30e1\u30a4\u30ea\u30aa","Meiryo","\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af","MS PGothic","sans-serif"].join(","),ae=Object(T.a)({typography:{fontFamily:te},palette:{primary:N.a,type:"dark"}}),ie=Object(k.a)((function(e){return{root:{flexGrow:1,height:"100%"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},appBar:{},appBarSpacer:e.mixins.toolbar,SearchfieldSize:{width:"100%",marginTop:"2%"},listItemSize:{padding:0,paddingTop:5},paperSize:{margin:"1%",marginTop:"5%",width:"100%",height:"auto",padding:"1%"},paperTypoTitleSize:{margin:"1%"},paperTypoBodySize:{margin:"1%",marginTop:"-1%"},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}));function ne(e){var t=ie(),a=c.a.useState(null),n=Object(u.a)(a,2),o=n[0],s=n[1];return Object(i.jsx)("header",{children:Object(i.jsx)(h.a,{className:t.appBar,position:"fixed",children:Object(i.jsxs)(j.a,{children:[Object(i.jsx)(ee.b,{to:"/",style:{textDecoration:"none"},children:Object(i.jsx)(m.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(){e.handleClick(),e.snackbarTextHandle("\u30e1\u30cb\u30e5\u30fc\u8868\u793a"),""!==e.memoData.title&&""!==e.memoData.body&&fetch("http://iwabuchi.ddns.net:8080/",{method:"update"===e.editMode?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:e.session.getUid(),id:e.memoData.id,title:e.memoData.title,body:e.memoData.body})}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},children:Object(i.jsx)(X.a,{color:"action"})})}),Object(i.jsx)(b.a,{variant:"h6",className:t.title,children:"\u30e1\u30e2\u30e1\u30e2\u30e1"}),Object(i.jsx)(m.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(e){s(e.currentTarget)},children:Object(i.jsx)($.a,{color:"action",style:{textAlign:"right"}})}),Object(i.jsx)(q.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){s(null)},children:Object(i.jsx)(Q.a,{onClick:function(){s(null),""!==e.memoData.title&&""!==e.memoData.body&&(fetch("http://iwabuchi.ddns.net:8080/",{method:"update"===e.editMode?"DELETE":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:e.session.getUid(),id:e.memoData.id})}).then((function(e){return e.json()})).catch((function(e){console.log(e)})),e.history.replace("/"))},children:"\u524a\u9664"})})]})})})}function ce(e){var t=ie(),a=Object(n.useState)(e.memo.title),c=Object(u.a)(a,2),o=c[0],s=c[1],r=Object(n.useState)(e.memo.body),l=Object(u.a)(r,2),d=l[0],h=l[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:t.appBarSpacer}),Object(i.jsx)(f.a,{children:Object(i.jsxs)(O.a,{className:t.paperSize,children:[Object(i.jsx)(x.a,{label:"Title",style:{margin:"1%",width:"98%"},value:o,onChange:function(t){s(t.target.value),e.memo.title=t.target.value}}),Object(i.jsx)("br",{}),Object(i.jsx)(x.a,{label:"Body",multiline:!0,variant:"outlined",style:{marginTop:"2%",marginBottom:"2%",width:"100%"},value:d,onChange:function(t){h(t.target.value),e.memo.body=t.target.value}})]})})]})}function oe(e,t,a){"clickaway"!==a&&t(!1)}var se=function(e){var t=e.location.state.memoData,a=e.location.state.editMode,o=e.location.state.session,s=Object(n.useState)(!1),r=Object(u.a)(s,2),l=r[0],d=r[1],h=Object(n.useState)(""),j=Object(u.a)(h,2),b=j[0],p=j[1];return Object(i.jsx)(C.a,{theme:ae,children:Object(i.jsxs)("div",{children:[Object(i.jsx)(S.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:l,autoHideDuration:6e3,onClose:function(e,t){oe(e,d,t)},message:b,action:Object(i.jsx)(c.a.Fragment,{children:Object(i.jsx)(m.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(e){oe(e,d)},children:Object(i.jsx)(D.a,{fontSize:"small"})})})}),Object(i.jsx)(v.a,{}),Object(i.jsx)(ne,{history:e.history,snackbarTextHandle:p,handleClick:function(){d(!0)},memoData:t,editMode:a,session:o}),Object(i.jsx)(ce,{snackbarTextHandle:p,handleClick:function(){d(!0)},memo:t})]})})},re=a(12);s.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(ee.a,{children:Object(i.jsxs)(re.c,{children:[Object(i.jsx)(re.a,{exact:!0,path:"/",component:W}),Object(i.jsx)(re.a,{exact:!0,path:"/editor",component:se}),Object(i.jsx)(re.a,{component:W})]})})}),document.getElementById("root")),A()},88:function(e,t,a){}},[[100,1,2]]]);
//# sourceMappingURL=main.e14d6459.chunk.js.map