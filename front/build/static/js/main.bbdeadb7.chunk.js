(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{85:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var i=a(3),n=a(0),o=a.n(n),c=a(9),s=a.n(c),r=(a(85),a(18)),l=(a(128),a(142)),d=a(130),u=a(131),j=a(132),h=a(133),m=a(98),b=a(97),p=a(134),O=a(140),f=a(135),x=a(136),g=a(138),y=a(69),S=a(126),v=a(137),k=a(32),T=a.n(k),C=a(49),D=a(65),N=a.n(D),z=a(66),w=a.n(z),B=a(40),M=a(41),P=function(){function e(){Object(B.a)(this,e),this.user=void 0,this.id=void 0,this._title=void 0,this._body=void 0,this.datetime=void 0,this.user="",this.id=0,this._title="",this._body="",this.datetime=""}return Object(M.a)(e,[{key:"title",get:function(){return this._title},set:function(e){this._title=e}},{key:"body",get:function(){return this._body},set:function(e){this._body=e}}]),e}(),G=function(){function e(t){Object(B.a)(this,e),this.uid=void 0,this.uid=t}return Object(M.a)(e,[{key:"setUid",value:function(e){this.uid=e}},{key:"getUid",value:function(){return this.uid}}]),e}(),H=["Noto Sans JP","Lato","\u6e38\u30b4\u30b7\u30c3\u30af Medium","\u6e38\u30b4\u30b7\u30c3\u30af\u4f53","Yu Gothic Medium","YuGothic","\u30d2\u30e9\u30ae\u30ce\u89d2\u30b4 ProN","Hiragino Kaku Gothic ProN","\u30e1\u30a4\u30ea\u30aa","Meiryo","\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af","MS PGothic","sans-serif"].join(","),F=Object(y.a)({typography:{fontFamily:H},palette:{primary:C.a,type:"dark"}}),E=Object(S.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},appBar:{},appBarSpacer:e.mixins.toolbar,SearchfieldSize:{width:"100%",marginTop:"2%"},listItemSize:{padding:0,paddingTop:5},paperSize:{width:"100%"},paperTypoTitleSize:{padding:"1%"},paperTypoBodySize:{margin:"1%",marginTop:"1%",paddingBottom:"1%"},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},LinkSize:{width:"100%",textDecoration:"none"}}}));function U(e){var t=E();return Object(i.jsx)("header",{children:Object(i.jsx)(u.a,{className:t.appBar,position:"fixed",children:Object(i.jsxs)(j.a,{children:[Object(i.jsx)(d.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(){e.handleClick(),e.snackbarTextHandle("\u30e1\u30cb\u30e5\u30fc\u8868\u793a")},children:Object(i.jsx)(N.a,{})}),Object(i.jsx)(h.a,{variant:"h6",className:t.title,children:"\u30e1\u30e2\u30e1\u30e2\u30e1"})]})})})}function _(e){var t=[];return e.memoData.forEach((function(a){t.push(function(e){return Object(i.jsx)(m.a,{className:e.classes.listItemSize,children:Object(i.jsxs)(b.a,{className:e.classes.paperSize,onClick:function(){e.handleClick(e.memo)},children:[Object(i.jsx)(h.a,{className:e.classes.paperTypoTitleSize,variant:"h5",noWrap:!0,children:e.memo.title}),Object(i.jsx)(h.a,{className:e.classes.paperTypoBodySize,variant:"body1",noWrap:!0,children:e.memo.body})]})})}({classes:e.classes,handleClick:function(t){e.handleClick(t)},memo:a}))})),Object(i.jsx)(i.Fragment,{children:t})}function I(e){var t=E(),a=Object(n.useState)(""),o=Object(r.a)(a,2),c=o[0],s=o[1],l=Object(n.useState)(e.memoData),d=Object(r.a)(l,2),u=d[0],j=d[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:t.appBarSpacer}),Object(i.jsxs)(p.a,{children:[Object(i.jsx)(O.a,{label:"\u691c\u7d22",value:c,className:t.SearchfieldSize,onChange:function(t){s(t.target.value),j(function(e,t){var a=[];return e.forEach((function(e){-1!==e.title.indexOf(t)&&-1===a.indexOf(e)&&a.push(e)})),a}(e.memoData,t.target.value))}}),Object(i.jsx)(f.a,{style:{maxHeight:"100%",overflow:"auto"},children:Object(i.jsx)(_,{classes:t,memoData:""!==c?u:e.memoData,handleClick:function(t){e.handleClick(t,"update")}})}),Object(i.jsx)(x.a,{color:"primary","aria-label":"add",className:t.fab,onClick:function(){e.handleClick(new P,"insert")},children:Object(i.jsx)(w.a,{})})]})]})}function J(e,t,a){"clickaway"!==a&&t(!1)}var L=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),c=a[0],s=a[1],u=Object(n.useState)(""),j=Object(r.a)(u,2),h=j[0],m=j[1],b=Object(n.useState)([]),p=Object(r.a)(b,2),O=p[0],f=p[1],x=Object(n.useState)(new G("")),y=Object(r.a)(x,2),S=y[0],k=y[1],C=localStorage.getItem("uid");return null!=C&&S.setUid(C),fetch("http://iwabuchi.ddns.net:8080/?uid="+S.getUid(),{method:"get"}).then((function(e){return e.json()})).then((function(e){f(e.memos),k(new G(e.uid)),localStorage.setItem("uid",S.getUid())})).catch((function(e){console.error("Error: ",e)})),Object(i.jsx)(v.a,{theme:F,children:Object(i.jsxs)("div",{children:[Object(i.jsx)(l.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:c,autoHideDuration:6e3,onClose:function(e,t){J(e,s,t)},message:h,action:Object(i.jsx)(o.a.Fragment,{children:Object(i.jsx)(d.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(e){J(e,s)},children:Object(i.jsx)(T.a,{fontSize:"small"})})})}),Object(i.jsx)(g.a,{}),Object(i.jsx)(U,{snackbarTextHandle:m,handleClick:function(){s(!0)}}),Object(i.jsx)(I,{memoData:O,handleClick:function(t,a){console.log(t),e.history.push({pathname:"/editor",state:{memoData:t,editMode:a,session:S}})},setMemoData:function(e){f(e.concat())}})]})})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,143)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),i(e),n(e),o(e),c(e)}))},K=a(70),R=a(139),W=a(67),A=a.n(W),q=a(68),Q=a.n(q),V=a(48),X=["Noto Sans JP","Lato","\u6e38\u30b4\u30b7\u30c3\u30af Medium","\u6e38\u30b4\u30b7\u30c3\u30af\u4f53","Yu Gothic Medium","YuGothic","\u30d2\u30e9\u30ae\u30ce\u89d2\u30b4 ProN","Hiragino Kaku Gothic ProN","\u30e1\u30a4\u30ea\u30aa","Meiryo","\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af","MS PGothic","sans-serif"].join(","),Z=Object(y.a)({typography:{fontFamily:X},palette:{primary:C.a,type:"dark"}}),$=Object(S.a)((function(e){return{root:{flexGrow:1,height:"100%"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},appBar:{},appBarSpacer:e.mixins.toolbar,SearchfieldSize:{width:"100%",marginTop:"2%"},listItemSize:{padding:0,paddingTop:5},paperSize:{margin:"1%",marginTop:"5%",width:"100%",height:"auto",padding:"1%"},paperTypoTitleSize:{margin:"1%"},paperTypoBodySize:{margin:"1%",marginTop:"-1%"},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}));function ee(e){var t=$(),a=o.a.useState(null),n=Object(r.a)(a,2),c=n[0],s=n[1];return Object(i.jsx)("header",{children:Object(i.jsx)(u.a,{className:t.appBar,position:"fixed",children:Object(i.jsxs)(j.a,{children:[Object(i.jsx)(V.b,{to:"/",style:{textDecoration:"none"},children:Object(i.jsx)(d.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(){e.handleClick(),e.snackbarTextHandle("\u30e1\u30cb\u30e5\u30fc\u8868\u793a"),""!==e.memoData.title&&""!==e.memoData.body&&fetch("http://iwabuchi.ddns.net:8080/",{method:"update"===e.editMode?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:e.session.getUid(),id:e.memoData.id,title:e.memoData.title,body:e.memoData.body})}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},children:Object(i.jsx)(A.a,{color:"action"})})}),Object(i.jsx)(h.a,{variant:"h6",className:t.title,children:"\u30e1\u30e2\u30e1\u30e2\u30e1"}),Object(i.jsx)(d.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(e){s(e.currentTarget)},children:Object(i.jsx)(Q.a,{color:"action",style:{textAlign:"right"}})}),Object(i.jsx)(K.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:function(){s(null)},children:Object(i.jsx)(R.a,{onClick:function(){s(null),""!==e.memoData.title&&""!==e.memoData.body&&(fetch("http://iwabuchi.ddns.net:8080/",{method:"update"===e.editMode?"DELETE":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:e.session.getUid(),id:e.memoData.id})}).then((function(e){return e.json()})).catch((function(e){console.log(e)})),e.history.replace("/"))},children:"\u524a\u9664"})})]})})})}function te(e){var t=$(),a=Object(n.useState)(e.memo.title),o=Object(r.a)(a,2),c=o[0],s=o[1],l=Object(n.useState)(e.memo.body),d=Object(r.a)(l,2),u=d[0],j=d[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:t.appBarSpacer}),Object(i.jsx)(p.a,{children:Object(i.jsxs)(b.a,{className:t.paperSize,children:[Object(i.jsx)(O.a,{label:"Title",style:{margin:"1%",width:"98%"},value:c,onChange:function(t){s(t.target.value),e.memo.title=t.target.value}}),Object(i.jsx)("br",{}),Object(i.jsx)(O.a,{label:"Body",multiline:!0,variant:"outlined",style:{marginTop:"2%",marginBottom:"2%",width:"100%"},value:u,onChange:function(t){j(t.target.value),e.memo.body=t.target.value}})]})})]})}function ae(e,t,a){"clickaway"!==a&&t(!1)}var ie=function(e){var t=e.location.state.memoData,a=e.location.state.editMode,c=e.location.state.session,s=Object(n.useState)(!1),u=Object(r.a)(s,2),j=u[0],h=u[1],m=Object(n.useState)(""),b=Object(r.a)(m,2),p=b[0],O=b[1];return Object(i.jsx)(v.a,{theme:Z,children:Object(i.jsxs)("div",{children:[Object(i.jsx)(l.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:j,autoHideDuration:6e3,onClose:function(e,t){ae(e,h,t)},message:p,action:Object(i.jsx)(o.a.Fragment,{children:Object(i.jsx)(d.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(e){ae(e,h)},children:Object(i.jsx)(T.a,{fontSize:"small"})})})}),Object(i.jsx)(g.a,{}),Object(i.jsx)(ee,{history:e.history,snackbarTextHandle:O,handleClick:function(){h(!0)},memoData:t,editMode:a,session:c}),Object(i.jsx)(te,{snackbarTextHandle:O,handleClick:function(){h(!0)},memo:t})]})})},ne=a(12);s.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(V.a,{children:Object(i.jsxs)(ne.c,{children:[Object(i.jsx)(ne.a,{exact:!0,path:"/",component:L}),Object(i.jsx)(ne.a,{exact:!0,path:"/editor",component:ie}),Object(i.jsx)(ne.a,{component:L})]})})}),document.getElementById("root")),Y()}},[[96,1,2]]]);
//# sourceMappingURL=main.bbdeadb7.chunk.js.map